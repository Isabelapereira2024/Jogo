<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jogo de Ping Pong</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #000;
        }
        canvas {
            background-color: #333;
        }
    </style>
</head>
<body>
    <canvas id="pongCanvas" width="800" height="400"></canvas>
    <script>
        const canvas = document.getElementById('pongCanvas');
        const ctx = canvas.getContext('2d');

        const paddleWidth = 10, paddleHeight = 100;
        const ballSize = 10;
        const paddleSpeed = 4;
        const ballSpeed = 5;

        let leftPaddle = {
            x: 10,
            y: canvas.height / 2 - paddleHeight / 2,
            width: paddleWidth,
            height: paddleHeight,
            dy: 0
        };

        let rightPaddle = {
            x: canvas.width - paddleWidth - 10,
            y: canvas.height / 2 - paddleHeight / 2,
            width: paddleWidth,
            height: paddleHeight
        };

        let ball = {
            x: canvas.width / 2,
            y: canvas.height / 2,
            size: ballSize,
            dx: ballSpeed,
            dy: ballSpeed
        };

        function drawPaddle(paddle) {
            ctx.fillStyle = '#FFF';
            ctx.fillRect(paddle.x, paddle.y, paddle.width, paddle.height);
        }

        function drawBall() {
            ctx.beginPath();
            ctx.arc(ball.x, ball.y, ball.size, 0, Math.PI * 2);
            ctx.fillStyle = '#FFF';
            ctx.fill();
            ctx.closePath();
        }

        function movePaddles() {
            leftPaddle.y += leftPaddle.dy;

            // Prevent the paddles from going off the screen
            if (leftPaddle.y < 0) leftPaddle.y = 0;
            if (leftPaddle.y + leftPaddle.height > canvas.height) leftPaddle.y = canvas.height - leftPaddle.height;

            // AI for the right paddle
            if (ball.y < rightPaddle.y + rightPaddle.height / 2) {
                rightPaddle.y -= paddleSpeed;
            } else {
                rightPaddle.y += paddleSpeed;
            }

            // Prevent the right paddle from going off the screen
            if (rightPaddle.y < 0) rightPaddle.y = 0;
            if (rightPaddle.y + rightPaddle.height > canvas.height) rightPaddle.y = canvas.height - rightPaddle.height;
        }

        function moveBall() {
            ball.x += ball.dx;
            ball.y += ball.dy;

            // Bounce off top and bottom
            if (ball.y - ball.size < 0 || ball.y + ball.size > canvas.height) {
                ball.dy *= -1;
            }

            // Bounce off paddles
            if (ball.x - ball.size < leftPaddle.x + leftPaddle.width &&
                ball.y > leftPaddle.y &&
                ball.y < leftPaddle.y + leftPaddle.height) {
                ball.dx *= -1;
            }

            if (ball.x + ball.size > rightPaddle.x &&
                ball.y > rightPaddle.y &&
                ball.y < rightPaddle.y + rightPaddle.height) {
                ball.dx *= -1;
            }

            // Reset ball if out of bounds
            if (ball.x - ball.size < 0 || ball.x + ball.size > canvas.width) {
                ball.x = canvas.width / 2;
                ball.y = canvas.height / 2;
                ball.dx = ballSpeed * (Math.random() > 0.5 ? 1 : -1);
                ball.dy = ballSpeed * (Math.random() > 0.5 ? 1 : -1);
            }
        }

        function update() {
            movePaddles();
            moveBall();
            draw();
        }

        function draw() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            drawPaddle(leftPaddle);
            drawPaddle(rightPaddle);
            drawBall();
        }

        function gameLoop() {
            update();
            requestAnimationFrame(gameLoop);
        }

        document.addEventListener('keydown', (event) => {
            if (event.key === 'ArrowUp') {
                leftPaddle.dy = -paddleSpeed;
            } else if (event.key === 'ArrowDown') {
                leftPaddle.dy = paddleSpeed;
            }
        });

        document.addEventListener('keyup', (event) => {
            if (event.key === 'ArrowUp' || event.key === 'ArrowDown') {
                leftPaddle.dy = 0;
            }
        });

        gameLoop();
    </script>
</body>
</html>
